{"ast":null,"code":"var _jsxFileName = \"/Users/gg/dev/egoSurveyReact/egoSurveyReact/src/components/gensiForm.jsx\",\n    _s = $RefreshSig$();\n\n/**\n * This components handles the top level state of the form that we will ultimately submit.\n * This component is basically the entry point of the GENSI application\n * Every \"page\" saves their state in this parent component.\n * This is a simple multi-page form architecture. \n */\nimport React, { Component } from 'react';\nimport ParagraphPage from './paragraphPage';\nimport NodeCreationFunction from './nodeCreationFunction';\nimport NodeRow from './nodeRow';\nimport MCQ from './mcq';\nimport ButtonFooter from './buttonFooter';\nimport { Box } from 'grommet';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GensiForm() {\n  _s();\n\n  const [step, setStep] = React.useState(1); //   const [nodes[], setNodes] = React.useState('');\n\n  const [nodes, setNodes] = React.useState([{\n    \"id\": \"You\",\n    \"fx\": 0,\n    \"fy\": 0\n  }]); //fx and fy are attributes used by d3 to fix a node in positon\n\n  const [links, setLinks] = React.useState([]);\n  const [rowNodes, setRowNodes] = React.useState(new Set()); // Proceed to next step\n\n  function nextStep() {\n    setStep(step + 1);\n  }\n\n  ; // Go back to prev step\n\n  function prevStep() {\n    setStep(step - 1);\n  }\n\n  ;\n\n  function createNode(nodeName) {\n    //IMPORTANT AS ALL THE USESTATES NEED TO BE INITIALISED \n    setNodes([...nodes, {\n      \"id\": nodeName\n    }]);\n    const latestNodeIndex = nodes.length; //MIGHT BE NOT SAFE DEPENDING ON THE UPDATE CYCLE. \"-1\" MAKES  IT DELAYED\n\n    setLinks([...links, {\n      \"source\": 0,\n      \"target\": latestNodeIndex\n    }]); //0 is the hardcoded value for \"You\"\n\n    console.log(nodes);\n    console.log(links);\n    setRowNodes([...rowNodes, {\n      \"id\": nodeName,\n      \"selected\": false\n    }]);\n  }\n\n  function renderPageBaseOnStep() {\n    switch (step) {\n      case 1:\n        return /*#__PURE__*/_jsxDEV(Box, {\n          id: \"case 1 box\",\n          fill: \"vertical\",\n          children: [/*#__PURE__*/_jsxDEV(ParagraphPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ButtonFooter, {\n            onNext: nextStep,\n            onPrev: prevStep\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 20\n        }, this);\n\n      case 2:\n        return /*#__PURE__*/_jsxDEV(Box, {\n          id: \"case 2 box\",\n          fill: \"vertical\",\n          children: [/*#__PURE__*/_jsxDEV(NodeCreationFunction, {\n            nodes: nodes,\n            links: links,\n            onNodeCreation: createNode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ButtonFooter, {\n            onNext: nextStep\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this);\n\n      case 3:\n        return /*#__PURE__*/_jsxDEV(Box, {\n          id: \"case 3 box\",\n          fill: \"vertical\",\n          children: [/*#__PURE__*/_jsxDEV(NodeRow, {\n            initialNodes: nodes,\n            filterYou: false,\n            setSelectedIds: setRowNodes,\n            selectedIds: rowNodes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ButtonFooter, {\n            onNext: nextStep\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this);\n\n      case 4:\n        return /*#__PURE__*/_jsxDEV(Box, {\n          id: \"case 4 box\",\n          fill: \"vertical\",\n          children: /*#__PURE__*/_jsxDEV(MCQ, {\n            titles: ['choice 1', 'choice 2', 'choice 3']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this);\n      //  case 5:\n      //   return <Success />;\n\n      default:\n        console.log('This is a multi-step form built with React.');\n    }\n  }\n\n  return renderPageBaseOnStep();\n}\n\n_s(GensiForm, \"sw3+TDrtyG4a/SkX8r19WnfH0Gs=\");\n\n_c = GensiForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"GensiForm\");","map":{"version":3,"sources":["/Users/gg/dev/egoSurveyReact/egoSurveyReact/src/components/gensiForm.jsx"],"names":["React","Component","ParagraphPage","NodeCreationFunction","NodeRow","MCQ","ButtonFooter","Box","GensiForm","step","setStep","useState","nodes","setNodes","links","setLinks","rowNodes","setRowNodes","Set","nextStep","prevStep","createNode","nodeName","latestNodeIndex","length","console","log","renderPageBaseOnStep"],"mappings":"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","sourcesContent":["/**\n * This components handles the top level state of the form that we will ultimately submit.\n * This component is basically the entry point of the GENSI application\n * Every \"page\" saves their state in this parent component.\n * This is a simple multi-page form architecture. \n */\nimport React, { Component } from 'react';\nimport ParagraphPage from './paragraphPage'\nimport NodeCreationFunction from './nodeCreationFunction'\nimport NodeRow from './nodeRow';\nimport MCQ from './mcq'\nimport ButtonFooter from './buttonFooter'\nimport { Box } from 'grommet';  \n\nexport default function GensiForm() {\n    const [step, setStep] = React.useState(1)\n\n//   const [nodes[], setNodes] = React.useState('');\nconst [nodes, setNodes] = React.useState([{\"id\": \"You\", \"fx\" : 0, \"fy\" : 0}]); //fx and fy are attributes used by d3 to fix a node in positon\nconst [links, setLinks] = React.useState([]);\nconst [rowNodes, setRowNodes] = React.useState(new Set());\n  // Proceed to next step\n  function nextStep(){\n      setStep(step + 1);\n  };\n\n  // Go back to prev step\n  function prevStep(){\n    setStep(step - 1);\n  };\n\n  function createNode(nodeName) { //IMPORTANT AS ALL THE USESTATES NEED TO BE INITIALISED \n     setNodes(\n        [...nodes,\n        {\"id\": nodeName}]\n        );\n    const latestNodeIndex = nodes.length;  //MIGHT BE NOT SAFE DEPENDING ON THE UPDATE CYCLE. \"-1\" MAKES  IT DELAYED\n    setLinks(\n        [...links,\n        {\"source\": 0, \"target\": latestNodeIndex}]\n        ); //0 is the hardcoded value for \"You\"\n\n        console.log(nodes)\n        console.log(links)\n\n    setRowNodes( [...rowNodes,\n      {\"id\": nodeName, \"selected\": false}]\n      );\n    \n\n  }\n\n  function renderPageBaseOnStep(){\n    switch (step) {\n        case 1:\n          return ( <Box id=\"case 1 box\" fill= \"vertical\" >\n            <ParagraphPage\n            />\n            <ButtonFooter\n            onNext = {nextStep}\n            onPrev = {prevStep}\n            /> \n            </Box>\n          );\n        case 2:\n          return (\n            <Box  id=\"case 2 box\" fill= \"vertical\">\n            <NodeCreationFunction\n              nodes={nodes}\n              links={links}\n              onNodeCreation={createNode}\n            />\n            <ButtonFooter\n            onNext = {nextStep}\n\n            /> \n            </Box>\n            );\n        case 3: \n          return (\n            <Box id=\"case 3 box\" fill= \"vertical\">\n            <NodeRow\n            initialNodes={nodes}\n            filterYou={false}\n            setSelectedIds={setRowNodes}\n            selectedIds={rowNodes}\n            />\n            <ButtonFooter\n            onNext = {nextStep}\n            /> \n            </Box>\n\n          );\n        \n         case 4:\n           return(\n            <Box id=\"case 4 box\" fill= \"vertical\">\n              <MCQ\n              titles= {['choice 1', 'choice 2', 'choice 3']}\n              />\n              </Box>\n);\n          //  case 5:\n          //   return <Success />;\n        default:\n          (console.log('This is a multi-step form built with React.'))\n      }\n}\n  return renderPageBaseOnStep()\n    \n  }"]},"metadata":{},"sourceType":"module"}